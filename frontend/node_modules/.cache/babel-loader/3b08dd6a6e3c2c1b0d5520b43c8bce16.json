{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DUA\\\\Downloads\\\\Instagram-mern-stack-main\\\\frontend\\\\src\\\\components\\\\Home.js\",\n    _s = $RefreshSig$();\n\n//Display all posts from the backend.Allow the logged-in user to:Like / Unlike posts, Add comments. View comments in a popup\n//Show user info and profile pics. Link to user profiles when clicking the name\nimport React, { useEffect, useState } from \"react\";\nimport \"./Home.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const navigate = useNavigate(); //posts → array of all posts fetched from backend\n\n  const [posts, setPosts] = useState([]); //showCommentsFor → stores post ID of the currently opened comment popup\n\n  const [showCommentsFor, setShowCommentsFor] = useState(null); // post id for comment popup\n\n  const [commentsInput, setCommentsInput] = useState({}); // store comment per post\n\n  const picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n\n  const notifyA = msg => toast.error(msg);\n\n  const notifyB = msg => toast.success(msg); //Reads the currently logged-in user from localStorage. Needed for things like:\n  //Checking if the user already liked a post\n  //Displaying user’s profile pic when commenting\n\n\n  const user = JSON.parse(localStorage.getItem(\"user\")); // Fetch posts on mount\n  //On component mount:\n  //Checks if user is logged in (JWT in localStorage), Redirects to signup if not logged in, Fetches all posts from backend, Saves them in posts state\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n\n    if (!token) {\n      navigate(\"/signup\");\n      return;\n    }\n\n    fetch(\"http://localhost:5000/allposts\", {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => res.json()).then(result => setPosts(result)).catch(err => console.log(err));\n  }, []); // Like / Unlike\n  // Sends a PUT request to /like or /unlike backend endpoint, Backend returns the updated post object\n  //Updates posts array with the new likes count, Uses post._id === result._id to replace the updated post\n\n  const updateLike = (id, action) => {\n    fetch(`http://localhost:5000/${action}`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        postId: id\n      })\n    }).then(res => res.json()).then(result => {\n      const updatedPosts = posts.map(p => p._id === result._id ? result : p);\n      setPosts(updatedPosts);\n    });\n  }; // Add comment\n  //Sends a PUT request to /comment backend endpoint, Updates the posts state with the new comment\n  //Clears the input field for that specific post, Shows a toast notification: \"Comment posted\"\n  //Important: Because commentsInput is an object keyed by post ID, each post has its own comment input — no conflicts between multiple posts.\n\n\n  const makeComment = (text, id) => {\n    if (!text) return;\n    fetch(\"http://localhost:5000/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        text,\n        postId: id\n      })\n    }).then(res => res.json()).then(result => {\n      const updatedPosts = posts.map(p => p._id === result._id ? result : p);\n      setPosts(updatedPosts);\n      setCommentsInput(prev => ({ ...prev,\n        [id]: \"\"\n      }));\n      notifyB(\"Comment posted\");\n    });\n  }; // Toggle comment popup\n\n\n  const toggleCommentPopup = function () {\n    let id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    setShowCommentsFor(prev => prev === id ? null : id);\n  }; // Update localStorage user for profile pic change\n\n\n  const refreshUser = () => {\n    const updatedUser = JSON.parse(localStorage.getItem(\"user\"));\n    setPosts(prevPosts => [...prevPosts]); // force re-render\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: posts.map(post => {\n      const liked = post.likes.includes(user._id);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-pic\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.postedBy.Photo || picLink,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/profile/${post.postedBy._id}`,\n              children: post.postedBy.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: post.photo,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `material-symbols-outlined ${liked ? \"material-symbols-outlined-red\" : \"\"}`,\n            onClick: () => updateLike(post._id, liked ? \"unlike\" : \"like\"),\n            children: \"favorite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [post.likes.length, \" Likes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: post.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: \"bold\",\n              cursor: \"pointer\"\n            },\n            onClick: () => toggleCommentPopup(post._id),\n            children: \"View all comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-comment\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-outlined\",\n            children: \"mood\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Add a comment\",\n            value: commentsInput[post._id] || \"\",\n            onChange: e => setCommentsInput(prev => ({ ...prev,\n              [post._id]: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"comment\",\n            onClick: () => makeComment(commentsInput[post._id], post._id),\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), showCommentsFor === post._id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"showComment\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"postPic\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: post.photo,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                style: {\n                  borderBottom: \"1px solid #00000029\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-pic\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: post.postedBy.Photo || picLink,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: post.postedBy.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-section\",\n                style: {\n                  borderBottom: \"1px solid #00000029\"\n                },\n                children: post.comments.map((c, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"comm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"commenter\",\n                    style: {\n                      fontWeight: \"bolder\"\n                    },\n                    children: [c.postedBy.name, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"commentText\",\n                    children: c.comment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [post.likes.length, \" Likes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: post.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"add-comment\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"material-symbols-outlined\",\n                  children: \"mood\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Add a comment\",\n                  value: commentsInput[post._id] || \"\",\n                  onChange: e => setCommentsInput(prev => ({ ...prev,\n                    [post._id]: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"comment\",\n                  onClick: () => {\n                    makeComment(commentsInput[post._id], post._id);\n                  },\n                  children: \"Post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"close-comment\",\n            onClick: () => toggleCommentPopup(post._id),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-outlined material-symbols-outlined-comment\",\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"1wREy0yBLAKBy6qEE7HbscflcNM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","toast","Home","navigate","posts","setPosts","showCommentsFor","setShowCommentsFor","commentsInput","setCommentsInput","picLink","notifyA","msg","error","notifyB","success","user","JSON","parse","localStorage","getItem","token","fetch","headers","Authorization","then","res","json","result","catch","err","console","log","updateLike","id","action","method","body","stringify","postId","updatedPosts","map","p","_id","makeComment","text","prev","toggleCommentPopup","refreshUser","updatedUser","prevPosts","post","liked","likes","includes","postedBy","Photo","name","photo","length","fontWeight","cursor","e","target","value","borderBottom","comments","c","index","comment"],"sources":["C:/Users/DUA/Downloads/Instagram-mern-stack-main/frontend/src/components/Home.js"],"sourcesContent":["//Display all posts from the backend.Allow the logged-in user to:Like / Unlike posts, Add comments. View comments in a popup\n\n//Show user info and profile pics. Link to user profiles when clicking the name\nimport React, { useEffect, useState } from \"react\";\nimport \"./Home.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport default function Home() {\n  const navigate = useNavigate();\n  //posts → array of all posts fetched from backend\n  const [posts, setPosts] = useState([]);\n  //showCommentsFor → stores post ID of the currently opened comment popup\n  const [showCommentsFor, setShowCommentsFor] = useState(null); // post id for comment popup\n  const [commentsInput, setCommentsInput] = useState({}); // store comment per post\n\n  const picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n//Reads the currently logged-in user from localStorage. Needed for things like:\n\n//Checking if the user already liked a post\n\n//Displaying user’s profile pic when commenting\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  // Fetch posts on mount\n  //On component mount:\n\n//Checks if user is logged in (JWT in localStorage), Redirects to signup if not logged in, Fetches all posts from backend, Saves them in posts state\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      navigate(\"/signup\");\n      return;\n    }\n\n    fetch(\"http://localhost:5000/allposts\", {\n      headers: { Authorization: \"Bearer \" + token },\n    })\n      .then((res) => res.json())\n      .then((result) => setPosts(result))\n      .catch((err) => console.log(err));\n  }, []);\n\n  // Like / Unlike\n  // Sends a PUT request to /like or /unlike backend endpoint, Backend returns the updated post object\n\n//Updates posts array with the new likes count, Uses post._id === result._id to replace the updated post\n  const updateLike = (id, action) => {\n    fetch(`http://localhost:5000/${action}`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({ postId: id }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        const updatedPosts = posts.map((p) => (p._id === result._id ? result : p));\n        setPosts(updatedPosts);\n      });\n  };\n\n  // Add comment\n  //Sends a PUT request to /comment backend endpoint, Updates the posts state with the new comment\n\n//Clears the input field for that specific post, Shows a toast notification: \"Comment posted\"\n//Important: Because commentsInput is an object keyed by post ID, each post has its own comment input — no conflicts between multiple posts.\n  const makeComment = (text, id) => {\n    if (!text) return;\n    fetch(\"http://localhost:5000/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({ text, postId: id }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        const updatedPosts = posts.map((p) => (p._id === result._id ? result : p));\n        setPosts(updatedPosts);\n        setCommentsInput((prev) => ({ ...prev, [id]: \"\" }));\n        notifyB(\"Comment posted\");\n      });\n  };\n\n  // Toggle comment popup\n  const toggleCommentPopup = (id = null) => {\n    setShowCommentsFor((prev) => (prev === id ? null : id));\n  };\n\n  // Update localStorage user for profile pic change\n  const refreshUser = () => {\n    const updatedUser = JSON.parse(localStorage.getItem(\"user\"));\n    setPosts((prevPosts) => [...prevPosts]); // force re-render\n  };\n\n  return (\n    <div className=\"home\">\n      {posts.map((post) => {\n        const liked = post.likes.includes(user._id);\n        return (\n          <div className=\"card\" key={post._id}>\n            <div className=\"card-header\">\n              <div className=\"card-pic\">\n                <img src={post.postedBy.Photo || picLink} alt=\"\" />\n              </div>\n              <h5>\n                <Link to={`/profile/${post.postedBy._id}`}>{post.postedBy.name}</Link>\n              </h5>\n            </div>\n\n            <div className=\"card-image\">\n              <img src={post.photo} alt=\"\" />\n            </div>\n\n            <div className=\"card-content\">\n              <span\n                className={`material-symbols-outlined ${liked ? \"material-symbols-outlined-red\" : \"\"}`}\n                onClick={() => updateLike(post._id, liked ? \"unlike\" : \"like\")}\n              >\n                favorite\n              </span>\n              <p>{post.likes.length} Likes</p>\n              <p>{post.body}</p>\n              <p\n                style={{ fontWeight: \"bold\", cursor: \"pointer\" }}\n                onClick={() => toggleCommentPopup(post._id)}\n              >\n                View all comments\n              </p>\n            </div>\n\n            {/* Add Comment */}\n            <div className=\"add-comment\">\n              <span className=\"material-symbols-outlined\">mood</span>\n              <input\n                type=\"text\"\n                placeholder=\"Add a comment\"\n                value={commentsInput[post._id] || \"\"}\n                onChange={(e) =>\n                  setCommentsInput((prev) => ({ ...prev, [post._id]: e.target.value }))\n                }\n              />\n              <button\n                className=\"comment\"\n                onClick={() => makeComment(commentsInput[post._id], post._id)}\n              >\n                Post\n              </button>\n            </div>\n\n            {/* Show Comment Popup */}\n            {showCommentsFor === post._id && (\n              <div className=\"showComment\">\n                <div className=\"container\">\n                  <div className=\"postPic\">\n                    <img src={post.photo} alt=\"\" />\n                  </div>\n                  <div className=\"details\">\n                    <div className=\"card-header\" style={{ borderBottom: \"1px solid #00000029\" }}>\n                      <div className=\"card-pic\">\n                        <img src={post.postedBy.Photo || picLink} alt=\"\" />\n                      </div>\n                      <h5>{post.postedBy.name}</h5>\n                    </div>\n\n                    <div className=\"comment-section\" style={{ borderBottom: \"1px solid #00000029\" }}>\n                      {post.comments.map((c, index) => (\n                        <p className=\"comm\" key={index}>\n                          <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\n                            {c.postedBy.name}{\" \"}\n                          </span>\n                          <span className=\"commentText\">{c.comment}</span>\n                        </p>\n                      ))}\n                    </div>\n\n                    <div className=\"card-content\">\n                      <p>{post.likes.length} Likes</p>\n                      <p>{post.body}</p>\n                    </div>\n\n                    <div className=\"add-comment\">\n                      <span className=\"material-symbols-outlined\">mood</span>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Add a comment\"\n                        value={commentsInput[post._id] || \"\"}\n                        onChange={(e) =>\n                          setCommentsInput((prev) => ({ ...prev, [post._id]: e.target.value }))\n                        }\n                      />\n                      <button\n                        className=\"comment\"\n                        onClick={() => {\n                          makeComment(commentsInput[post._id], post._id);\n                        }}\n                      >\n                        Post\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"close-comment\" onClick={() => toggleCommentPopup(post._id)}>\n                  <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n                    close\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"mappings":";;;AAAA;AAEA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,SAASC,WAAT,EAAsBC,IAAtB,QAAkC,kBAAlC;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,eAAe,SAASC,IAAT,GAAgB;EAAA;;EAC7B,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B,CAD6B,CAE7B;;EACA,MAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC,CAH6B,CAI7B;;EACA,MAAM,CAACQ,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAC,IAAD,CAAtD,CAL6B,CAKiC;;EAC9D,MAAM,CAACU,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,EAAD,CAAlD,CAN6B,CAM2B;;EAExD,MAAMY,OAAO,GAAG,yDAAhB;;EAEA,MAAMC,OAAO,GAAIC,GAAD,IAASX,KAAK,CAACY,KAAN,CAAYD,GAAZ,CAAzB;;EACA,MAAME,OAAO,GAAIF,GAAD,IAASX,KAAK,CAACc,OAAN,CAAcH,GAAd,CAAzB,CAX6B,CAa/B;EAEA;EAEA;;;EACE,MAAMI,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CAlB6B,CAoB7B;EACA;EAEF;;EACEvB,SAAS,CAAC,MAAM;IACd,MAAMwB,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd;;IACA,IAAI,CAACC,KAAL,EAAY;MACVlB,QAAQ,CAAC,SAAD,CAAR;MACA;IACD;;IAEDmB,KAAK,CAAC,gCAAD,EAAmC;MACtCC,OAAO,EAAE;QAAEC,aAAa,EAAE,YAAYH;MAA7B;IAD6B,CAAnC,CAAL,CAGGI,IAHH,CAGSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAHjB,EAIGF,IAJH,CAISG,MAAD,IAAYvB,QAAQ,CAACuB,MAAD,CAJ5B,EAKGC,KALH,CAKUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALlB;EAMD,CAbQ,EAaN,EAbM,CAAT,CAxB6B,CAuC7B;EACA;EAEF;;EACE,MAAMG,UAAU,GAAG,CAACC,EAAD,EAAKC,MAAL,KAAgB;IACjCb,KAAK,CAAE,yBAAwBa,MAAO,EAAjC,EAAoC;MACvCC,MAAM,EAAE,KAD+B;MAEvCb,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAE,YAAYL,YAAY,CAACC,OAAb,CAAqB,KAArB;MAFpB,CAF8B;MAMvCiB,IAAI,EAAEpB,IAAI,CAACqB,SAAL,CAAe;QAAEC,MAAM,EAAEL;MAAV,CAAf;IANiC,CAApC,CAAL,CAQGT,IARH,CAQSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARjB,EASGF,IATH,CASSG,MAAD,IAAY;MAChB,MAAMY,YAAY,GAAGpC,KAAK,CAACqC,GAAN,CAAWC,CAAD,IAAQA,CAAC,CAACC,GAAF,KAAUf,MAAM,CAACe,GAAjB,GAAuBf,MAAvB,GAAgCc,CAAlD,CAArB;MACArC,QAAQ,CAACmC,YAAD,CAAR;IACD,CAZH;EAaD,CAdD,CA3C6B,CA2D7B;EACA;EAEF;EACA;;;EACE,MAAMI,WAAW,GAAG,CAACC,IAAD,EAAOX,EAAP,KAAc;IAChC,IAAI,CAACW,IAAL,EAAW;IACXvB,KAAK,CAAC,+BAAD,EAAkC;MACrCc,MAAM,EAAE,KAD6B;MAErCb,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAE,YAAYL,YAAY,CAACC,OAAb,CAAqB,KAArB;MAFpB,CAF4B;MAMrCiB,IAAI,EAAEpB,IAAI,CAACqB,SAAL,CAAe;QAAEO,IAAF;QAAQN,MAAM,EAAEL;MAAhB,CAAf;IAN+B,CAAlC,CAAL,CAQGT,IARH,CAQSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARjB,EASGF,IATH,CASSG,MAAD,IAAY;MAChB,MAAMY,YAAY,GAAGpC,KAAK,CAACqC,GAAN,CAAWC,CAAD,IAAQA,CAAC,CAACC,GAAF,KAAUf,MAAM,CAACe,GAAjB,GAAuBf,MAAvB,GAAgCc,CAAlD,CAArB;MACArC,QAAQ,CAACmC,YAAD,CAAR;MACA/B,gBAAgB,CAAEqC,IAAD,KAAW,EAAE,GAAGA,IAAL;QAAW,CAACZ,EAAD,GAAM;MAAjB,CAAX,CAAD,CAAhB;MACApB,OAAO,CAAC,gBAAD,CAAP;IACD,CAdH;EAeD,CAjBD,CAhE6B,CAmF7B;;;EACA,MAAMiC,kBAAkB,GAAG,YAAe;IAAA,IAAdb,EAAc,uEAAT,IAAS;IACxC3B,kBAAkB,CAAEuC,IAAD,IAAWA,IAAI,KAAKZ,EAAT,GAAc,IAAd,GAAqBA,EAAjC,CAAlB;EACD,CAFD,CApF6B,CAwF7B;;;EACA,MAAMc,WAAW,GAAG,MAAM;IACxB,MAAMC,WAAW,GAAGhC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAApB;IACAf,QAAQ,CAAE6C,SAAD,IAAe,CAAC,GAAGA,SAAJ,CAAhB,CAAR,CAFwB,CAEiB;EAC1C,CAHD;;EAKA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,UACG9C,KAAK,CAACqC,GAAN,CAAWU,IAAD,IAAU;MACnB,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAL,CAAWC,QAAX,CAAoBtC,IAAI,CAAC2B,GAAzB,CAAd;MACA,oBACE;QAAK,SAAS,EAAC,MAAf;QAAA,wBACE;UAAK,SAAS,EAAC,aAAf;UAAA,wBACE;YAAK,SAAS,EAAC,UAAf;YAAA,uBACE;cAAK,GAAG,EAAEQ,IAAI,CAACI,QAAL,CAAcC,KAAd,IAAuB9C,OAAjC;cAA0C,GAAG,EAAC;YAA9C;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF,eAIE;YAAA,uBACE,QAAC,IAAD;cAAM,EAAE,EAAG,YAAWyC,IAAI,CAACI,QAAL,CAAcZ,GAAI,EAAxC;cAAA,UAA4CQ,IAAI,CAACI,QAAL,CAAcE;YAA1D;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAUE;UAAK,SAAS,EAAC,YAAf;UAAA,uBACE;YAAK,GAAG,EAAEN,IAAI,CAACO,KAAf;YAAsB,GAAG,EAAC;UAA1B;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAVF,eAcE;UAAK,SAAS,EAAC,cAAf;UAAA,wBACE;YACE,SAAS,EAAG,6BAA4BN,KAAK,GAAG,+BAAH,GAAqC,EAAG,EADvF;YAEE,OAAO,EAAE,MAAMnB,UAAU,CAACkB,IAAI,CAACR,GAAN,EAAWS,KAAK,GAAG,QAAH,GAAc,MAA9B,CAF3B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAOE;YAAA,WAAID,IAAI,CAACE,KAAL,CAAWM,MAAf;UAAA;YAAA;YAAA;YAAA;UAAA,QAPF,eAQE;YAAA,UAAIR,IAAI,CAACd;UAAT;YAAA;YAAA;YAAA;UAAA,QARF,eASE;YACE,KAAK,EAAE;cAAEuB,UAAU,EAAE,MAAd;cAAsBC,MAAM,EAAE;YAA9B,CADT;YAEE,OAAO,EAAE,MAAMd,kBAAkB,CAACI,IAAI,CAACR,GAAN,CAFnC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QATF;QAAA;UAAA;UAAA;UAAA;QAAA,QAdF,eAgCE;UAAK,SAAS,EAAC,aAAf;UAAA,wBACE;YAAM,SAAS,EAAC,2BAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YACE,IAAI,EAAC,MADP;YAEE,WAAW,EAAC,eAFd;YAGE,KAAK,EAAEnC,aAAa,CAAC2C,IAAI,CAACR,GAAN,CAAb,IAA2B,EAHpC;YAIE,QAAQ,EAAGmB,CAAD,IACRrD,gBAAgB,CAAEqC,IAAD,KAAW,EAAE,GAAGA,IAAL;cAAW,CAACK,IAAI,CAACR,GAAN,GAAYmB,CAAC,CAACC,MAAF,CAASC;YAAhC,CAAX,CAAD;UALpB;YAAA;YAAA;YAAA;UAAA,QAFF,eAUE;YACE,SAAS,EAAC,SADZ;YAEE,OAAO,EAAE,MAAMpB,WAAW,CAACpC,aAAa,CAAC2C,IAAI,CAACR,GAAN,CAAd,EAA0BQ,IAAI,CAACR,GAA/B,CAF5B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAVF;QAAA;UAAA;UAAA;UAAA;QAAA,QAhCF,EAmDGrC,eAAe,KAAK6C,IAAI,CAACR,GAAzB,iBACC;UAAK,SAAS,EAAC,aAAf;UAAA,wBACE;YAAK,SAAS,EAAC,WAAf;YAAA,wBACE;cAAK,SAAS,EAAC,SAAf;cAAA,uBACE;gBAAK,GAAG,EAAEQ,IAAI,CAACO,KAAf;gBAAsB,GAAG,EAAC;cAA1B;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QADF,eAIE;cAAK,SAAS,EAAC,SAAf;cAAA,wBACE;gBAAK,SAAS,EAAC,aAAf;gBAA6B,KAAK,EAAE;kBAAEO,YAAY,EAAE;gBAAhB,CAApC;gBAAA,wBACE;kBAAK,SAAS,EAAC,UAAf;kBAAA,uBACE;oBAAK,GAAG,EAAEd,IAAI,CAACI,QAAL,CAAcC,KAAd,IAAuB9C,OAAjC;oBAA0C,GAAG,EAAC;kBAA9C;oBAAA;oBAAA;oBAAA;kBAAA;gBADF;kBAAA;kBAAA;kBAAA;gBAAA,QADF,eAIE;kBAAA,UAAKyC,IAAI,CAACI,QAAL,CAAcE;gBAAnB;kBAAA;kBAAA;kBAAA;gBAAA,QAJF;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QADF,eAQE;gBAAK,SAAS,EAAC,iBAAf;gBAAiC,KAAK,EAAE;kBAAEQ,YAAY,EAAE;gBAAhB,CAAxC;gBAAA,UACGd,IAAI,CAACe,QAAL,CAAczB,GAAd,CAAkB,CAAC0B,CAAD,EAAIC,KAAJ,kBACjB;kBAAG,SAAS,EAAC,MAAb;kBAAA,wBACE;oBAAM,SAAS,EAAC,WAAhB;oBAA4B,KAAK,EAAE;sBAAER,UAAU,EAAE;oBAAd,CAAnC;oBAAA,WACGO,CAAC,CAACZ,QAAF,CAAWE,IADd,EACoB,GADpB;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QADF,eAIE;oBAAM,SAAS,EAAC,aAAhB;oBAAA,UAA+BU,CAAC,CAACE;kBAAjC;oBAAA;oBAAA;oBAAA;kBAAA,QAJF;gBAAA,GAAyBD,KAAzB;kBAAA;kBAAA;kBAAA;gBAAA,QADD;cADH;gBAAA;gBAAA;gBAAA;cAAA,QARF,eAmBE;gBAAK,SAAS,EAAC,cAAf;gBAAA,wBACE;kBAAA,WAAIjB,IAAI,CAACE,KAAL,CAAWM,MAAf;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADF,eAEE;kBAAA,UAAIR,IAAI,CAACd;gBAAT;kBAAA;kBAAA;kBAAA;gBAAA,QAFF;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAnBF,eAwBE;gBAAK,SAAS,EAAC,aAAf;gBAAA,wBACE;kBAAM,SAAS,EAAC,2BAAhB;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADF,eAEE;kBACE,IAAI,EAAC,MADP;kBAEE,WAAW,EAAC,eAFd;kBAGE,KAAK,EAAE7B,aAAa,CAAC2C,IAAI,CAACR,GAAN,CAAb,IAA2B,EAHpC;kBAIE,QAAQ,EAAGmB,CAAD,IACRrD,gBAAgB,CAAEqC,IAAD,KAAW,EAAE,GAAGA,IAAL;oBAAW,CAACK,IAAI,CAACR,GAAN,GAAYmB,CAAC,CAACC,MAAF,CAASC;kBAAhC,CAAX,CAAD;gBALpB;kBAAA;kBAAA;kBAAA;gBAAA,QAFF,eAUE;kBACE,SAAS,EAAC,SADZ;kBAEE,OAAO,EAAE,MAAM;oBACbpB,WAAW,CAACpC,aAAa,CAAC2C,IAAI,CAACR,GAAN,CAAd,EAA0BQ,IAAI,CAACR,GAA/B,CAAX;kBACD,CAJH;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAVF;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAxBF;YAAA;cAAA;cAAA;cAAA;YAAA,QAJF;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAkDE;YAAK,SAAS,EAAC,eAAf;YAA+B,OAAO,EAAE,MAAMI,kBAAkB,CAACI,IAAI,CAACR,GAAN,CAAhE;YAAA,uBACE;cAAM,SAAS,EAAC,6DAAhB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAlDF;QAAA;UAAA;UAAA;UAAA;QAAA,QApDJ;MAAA,GAA2BQ,IAAI,CAACR,GAAhC;QAAA;QAAA;QAAA;MAAA,QADF;IAgHD,CAlHA;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAuHD;;GArNuBzC,I;UACLH,W;;;KADKG,I"},"metadata":{},"sourceType":"module"}